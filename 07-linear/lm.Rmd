# Regression in R

The main linear regression function in R is the `lm` function. This function usually takes a _formula_ specifying the regression to run and a data frame containing the data.

A formula in `R` allows you to specify a functional relationship between variables. In R a formula is generally specified with text, but it is itself an object.

```{r}
my.formula <- Y ~ X1 + X2 + X3
print(my.formula)
class(my.formula)
str(my.formula)
```

`R` automatically assumes there is an intercept term. You can make this explicit by adding it as follows:

```{r, eval=FALSE}
Y ~ 1 + X1 + X2 + X3
```

You can also "remove" the intercept term (setting it to zero) in either of the following ways:

```{r, eval=FALSE}
Y ~  0 + X1 + X2 + X3
Y ~ -1 + X1 + X2 + X3
```

As you can see, `+` and `-` don't act as addition and subtraction operators but instead add and remove terms from the formula. There are other operators that lose their algebraic meaning in a formula.  `:` adds the _interaction_ of two variables. `*` adds the original terms as well as their interaction effect. The following are equivalent:

```{r, eval=FALSE}
Y ~ X1 * X2 + X3
Y ~ X1 + X2 + X1:X2 + X3
```

The `^` operator still translates to a chain of `*` but the star has a different meaning.

```{r, eval=FALSE}
Y ~ (X1 + X2)^2
Y ~ (X1 + X2)*(X1 + X2)
Y ~ (X1 + X2) + (X1 + X2):(X1 + X2)
```
